<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.0/reveal.min.css" integrity="sha512-vFD6wFRj2whK8/X/dMgxJHinKfGlwMYtN+yRCxvxvmOgIiMIlgrFb5iOuCoqwCID+Qcq2/gY8DpmNHcAjfHWxw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.0/theme/solarized.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.0/plugin/highlight/monokai.min.css" integrity="sha512-z8wQkuDRFwCBfoj7KOiu1MECaRVoXx6rZQWL21x0BsVVH7JkqCp1Otf39qve6CrCycOOL5o9vgfII5Smds23rg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
  <body>
  <div class="reveal">
    <div class="slides">
      <section data-nimib-slide-number="1" data-background-image="crown.webp" >
      <h1 style="color:#ffe953;">Nim for Pythonistas</h1>
      <h2 style="color:#F17A5D;">PyCon üáÆüáπ, May 24th 2024</h2>
      <span style="color:#3572A5;">github.com/pietroppeter/nim-for-pythonistas</span>
      </section>
      <section data-nimib-slide-number="2" >
      <section data-nimib-slide-number="3" >
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers><span class="hljs-keyword">import</span> sequtils, strutils
<span class="hljs-keyword">let</span> üí¨ = <span class="hljs-string">&quot;Ciao PyCon&quot;</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> -<span class="hljs-number">5</span> .. <span class="hljs-number">5</span>:
  <span class="hljs-keyword">echo</span> üí¨.toSeq.mapIt(<span class="hljs-string">' '</span>.repeat(abs(i)) &amp; it).join()</code></pre><pre style="width: 100%;"><samp class="hljs">     C     i     a     o           P     y     C     o     n
    C    i    a    o         P    y    C    o    n
   C   i   a   o       P   y   C   o   n
  C  i  a  o     P  y  C  o  n
 C i a o   P y C o n
Ciao PyCon
 C i a o   P y C o n
  C  i  a  o     P  y  C  o  n
   C   i   a   o       P   y   C   o   n
    C    i    a    o         P    y    C    o    n
     C     i     a     o           P     y     C     o     n</samp></pre>
      <p>Nim is a statically typed and compiled<br />
systems programming language for everything</p>
      </section>
      <section data-nimib-slide-number="4" >
      <h2>Me üë®‚Äçüë©‚Äçüëß</h2>
      <aside class="notes">
  <p>When I mean for Pythonistas, besides having in mind
many of you as target audience, I include also myself.</p>
<ul>
<li>I started with Python in the late 90s (received my first computer in the early 90s)</li>
<li>while in University (studied math) I put aside Python for Matlab</li>
<li>when starting to work I went back to it and rekindled my first love</li>
<li>worked for a number of years as data scientist</li>
<li>almost 6 years ago, I stumbled on Nim on HN</li>
<li>in an article called &quot;A Underdog Programming Language (Sep 2018)&quot;</li>
<li>I am a sucker for the underdog story</li>
<li>got curious and fell in love very quickly (also thanks to Advent of Code)</li>
<li>used it to improve my skills, including my python skills</li>
<li>and to do something different from what I did at work</li>
<li>more software engineer kind of stuff, and more low level (like writing a parser)</li>
<li>have been thinking a lot on how it impacted myself as a pythonista
(and comparisons nim/python)</li>
<li>Python Milano and PyData Milano meetups</li>
<li>one of the odd things that happened: nim pushed me to become more of a pythonista</li>
</ul>

</aside>
      </section>
      <section data-nimib-slide-number="5" >
      <blockquote>
<p>sometimes people ask me &quot;what can I do to improve my Python skills?&quot; Much to their surprise, I often suggest doing a project in a completely different language or outside of their area of expertise. I think the main benefit of doing this is that you'll often see a completely different way of thinking about a problem that you can bring home to your own projects.</p>
</blockquote>
<p>David Beazley, March 2023</p>
      </section>
      <section data-nimib-slide-number="6" >
      <h2>Therapy</h2>
      <aside class="notes">
  <p>This could also serve as a therapy session for our relation
with Python and its future, in case you happen to need one
(add quotes from twitter)</p>

</aside>
      </section>
      <section data-nimib-slide-number="7" >
      <h2>3 things I like about Python üêù</h2>
<ul>
<li>Accessibility</li>
<li>Playfulness</li>
<li>Everything</li>
</ul>
      </section>
      <section data-nimib-slide-number="8" >
      <h2>3 things I struggle with Python üôä</h2>
<ul>
<li>Abstraction</li>
<li>Portability</li>
<li>Errors</li>
</ul>
      </section>
      <section data-nimib-slide-number="9" >
      <h2>Agenda</h2>
<ol>
<li>nim is an <em>easy</em> to learn and <em>fast</em> complement to Python (+ magic üßô)</li>
<li>a smart <em>compiler</em> and a good <em>type</em> system can do wonders</li>
<li>multiple backends (C, C++, Objective-C, <em>Javascript</em>): pragmatic AND ü§Ø</li>
<li>why invest in a niche tech?</li>
</ol>
      </section>
      </section>
      <section data-nimib-slide-number="10" >
      <section data-nimib-slide-number="11" >
      <h3>üèéÔ∏è Performant: compiles to C</h3>
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers><span class="hljs-keyword">const</span> <span class="hljs-type">N</span> = <span class="hljs-number">3</span>
<span class="hljs-keyword">type</span> <span class="hljs-type">Matrix</span> = <span class="hljs-built_in">array</span>[<span class="hljs-type">N</span>, <span class="hljs-built_in">array</span>[<span class="hljs-type">N</span>, <span class="hljs-built_in">int</span>]]

<span class="hljs-keyword">let</span>
  <span class="hljs-type">A</span> = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]]
  <span class="hljs-type">B</span> = [[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]]

<span class="hljs-keyword">func</span> `*`(a, b: <span class="hljs-type">Matrix</span>): <span class="hljs-type">Matrix</span> =
  <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span> ..&lt; <span class="hljs-type">N</span>:
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-number">0</span> ..&lt; <span class="hljs-type">N</span>:
      <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-number">0</span> ..&lt; <span class="hljs-type">N</span>:
        <span class="hljs-literal">result</span>[i][j] += a[i][k]*b[k][j]

<span class="hljs-keyword">echo</span> <span class="hljs-type">A</span>*<span class="hljs-type">B</span></code></pre><pre style="width: 100%;"><samp class="hljs">[[1, 3, 6], [4, 9, 15], [7, 15, 24]]</samp></pre>
      <small><p><a href="https://archive.fosdem.org/2022/schedule/event/nim_hpcfrompythontonim/">HPC from Python to Nim (Fosdem 2022)</a></p></small>
      </section>
      <section data-nimib-slide-number="12" >
      <h3>Pythonic Syntax with ü¶∏ Superpowers</h3>
      <div style="display: grid; grid-auto-flow: column;">
      <div>
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers><span class="hljs-keyword">type</span>
  <span class="hljs-type">Grid</span> = <span class="hljs-built_in">array</span>[<span class="hljs-number">3</span>, <span class="hljs-built_in">array</span>[<span class="hljs-number">3</span>, <span class="hljs-type">Cell</span>]]
  <span class="hljs-type">Cell</span> = <span class="hljs-keyword">enum</span> <span class="hljs-type">X</span>, <span class="hljs-type">O</span>

<span class="hljs-keyword">func</span> initGrid: <span class="hljs-type">Grid</span> =
  [[<span class="hljs-type">X</span>,<span class="hljs-type">O</span>,<span class="hljs-type">X</span>],[<span class="hljs-type">O</span>,<span class="hljs-type">X</span>,<span class="hljs-type">O</span>],[<span class="hljs-type">X</span>,<span class="hljs-type">O</span>,<span class="hljs-type">X</span>]]

<span class="hljs-keyword">proc</span> show(g: <span class="hljs-type">Grid</span>) =
  <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> g:
    <span class="hljs-keyword">echo</span> row

<span class="hljs-keyword">proc</span> update(g: <span class="hljs-keyword">var</span> <span class="hljs-type">Grid</span>) =
  <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> g.<span class="hljs-keyword">low</span> .. g.<span class="hljs-keyword">high</span>:
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> g[i].<span class="hljs-keyword">low</span> .. g[i].<span class="hljs-keyword">high</span>:
      g[i][j] = <span class="hljs-keyword">if</span> g[i][j] == <span class="hljs-type">X</span>: <span class="hljs-type">O</span> <span class="hljs-keyword">else</span>: <span class="hljs-type">X</span></code></pre>
      <small><ul>
<li>ü¶∏ syntax fits well with <strong>metaprogramming</strong></li>
<li>üí° UFCS (Uniform Function Call Syntax)</li>
</ul></small>
      <small><p><a href="https://nim-lang.org/blog/2021/11/15/zen-of-nim.html">Zen of Nim (2021)</a></p></small>
      </div>
      <div>
      <p>‚†Ä</p>
      </div>
      <div>
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers><span class="hljs-keyword">var</span> g = initGrid()
show g <span class="hljs-comment"># command</span></code></pre><pre style="width: 100%;"><samp class="hljs">[X, O, X]
[O, X, O]
[X, O, X]</samp></pre>
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers>g.update <span class="hljs-comment"># method</span>
g.show</code></pre><pre style="width: 100%;"><samp class="hljs">[O, X, O]
[X, O, X]
[O, X, O]</samp></pre>
      <pre style="width: 100%"><code class="nim hljs" data-noescape data-line-numbers>update(g) <span class="hljs-comment"># function</span>
show(g)</code></pre><pre style="width: 100%;"><samp class="hljs">[X, O, X]
[O, X, O]
[X, O, X]</samp></pre>
      </div>
      </div>
      </section>
      <section data-nimib-slide-number="13" >
      <h2>ü¶∏ Metaprogramming</h2>
<ol>
<li>Generics</li>
<li>Templates</li>
<li>Macros (AST)</li>
</ol>
<p>AST: Abstract Syntax Tree</p>
<p>DSL: Domain Specific Language</p>
<blockquote>
<p>with power comes responsibility</p>
</blockquote>
      </section>
      <section data-nimib-slide-number="14" >
      <h3>ü§ù Interop with Python</h3>
      <p><code>fibonacci.nim</code></p>
<pre><code class="language-nim">import nimpy

func fib*(n: int): int {. exportpy .} =
  if n &lt; 2: 1 else: fib(n - 1) + fib(n - 2)
</code></pre>
<p><code>main.py</code></p>
<pre><code class="language-python">import nimporter
from fibonacci import fib

print(fib(10))
</code></pre>
<pre><code>python3 main.py
</code></pre>
<pre><code>89
</code></pre>
      <small><p><a href="https://github.com/Pebaz/nimporter">nimporter</a></p></small>
      <small><p><a href="https://github.com/yglukhov/nimpy">nimpy</a></p></small>
      </section>
      </section>
      <section data-nimib-slide-number="15" >
      <section data-nimib-slide-number="16" >
      <h2>compiler backends</h2>
<ul>
<li>C</li>
<li>C++</li>
<li>Objective-C</li>
<li>Javascript</li>
</ul>
<p>FFI: Foreign Function Interface</p>
      <aside class="notes">
  <ul>
<li>very pragmatic choice</li>
<li>C is the primary (default) backend</li>
<li>C++ allows for best-in-class interoperability with C++ libraries (e.g. Unreal engine)</li>
<li>backends are treated like assembler</li>
<li>you will use a single backend at the time (but you can use when clauses)</li>
</ul>

</aside>
      </section>
      <section data-nimib-slide-number="17" data-background-iframe="https://nimib-land.github.io/nblog/drafts/plant_app.html" data-background-interactive >
      </section>
      </section>
      <section data-nimib-slide-number="18" >
      <section data-nimib-slide-number="19" >
      <h2>Not really a Conclusion</h2>
<ul>
<li>are you more or less curious about Nim?</li>
<li>how did your Python therapy session go?</li>
<li>did you change your mind on something from this talk?</li>
</ul>
      </section>
      <section data-nimib-slide-number="20" >
      <blockquote>
<p>I believe the most important idea is that Python is developed on the Internet, entirely in the open, by a community of volunteers (but not amateurs!) who feel passion and ownership.</p>
</blockquote>
<p>Guido Van Rossum, King's Day Speech, 2016</p>
      </section>
      </section>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.0/reveal.js" integrity="sha512-+Dy2HJZ3Z1DWerDhqFE7AH2HTfnbq8RC1pKOashfMwx1s01fjPUebWoHqrRedU1yFimkexmzJJRilKxjs7lz8g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.0/plugin/highlight/highlight.min.js" integrity="sha512-U3fPDUX5bMrn1wnYqjaK44MFA9E6MKS+zPAg9WPAGF5XhReBeDj3FGaA831CjueG+YJxYA3WaO/m33kMIoOs/A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.0/plugin/notes/notes.min.js" integrity="sha512-v2co+5nr0bgHekutTzF5jAB0UAjM95dpCF7VVw7WsFCjfxonbQo8Vwl487tNYl0iHWHHGV4o5xKBp5ifyhJkWg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    Reveal.initialize({
      plugins: [ 
        RevealHighlight,
        RevealNotes,
      ],
    });
  </script>
  </body>
</html>
